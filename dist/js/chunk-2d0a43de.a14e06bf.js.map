{"version":3,"sources":["webpack:///./src/views/checkorder.vue?54cc","webpack:///src/views/checkorder.vue","webpack:///./src/views/checkorder.vue?b755","webpack:///./src/views/checkorder.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","active","isLoading","on","update:active","$event","staticClass","arraylangth","length","_e","staticStyle","display","_v","to","_m","_l","getcartproduct","item","key","title","src","product","imageUrl","alt","width","height","_s","qty","unit","size","_f","price","click","removeItem","id","colspan","total","final_total","directives","name","rawName","value","expression","type","placeholder","aria-label","aria-describedby","domProps","input","target","composing","coupon_code","addcouponCode","action","for","form","user","class","is-invalid","errors","has","required","$set","first","rows","preventDefault","createOrder","staticRenderFns","checkordervue_type_script_lang_js_","data","cartproduct","order","email","tel","address","products","message","methods","getcart","api","concat","Object","NODE_ENV","BASE_URL","VUE_APP_APIPATH","VUE_APP_COUSTOMPATH","vm","$http","get","then","response","success","carts","console","log","delete","$bus","$emit","coupon","code","post","_this","$validator","validate","valid","$router","push","orderId","created","views_checkordervue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0a43de.a14e06bf.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"container\"},[_c('main',{staticClass:\"carts\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row d-flex justify-content-center\"},[(!_vm.arraylangth.length)?_c('div',{staticClass:\"h2\",staticStyle:{\"display\":\"block\"}},[_c('span',{staticClass:\"h3\"},[_vm._v(\"購物車無任何商品\")]),_c('div',{staticClass:\"h4 mt-2\"},[_c('router-link',{attrs:{\"to\":\"/Detail\"}},[_vm._v(\"立刻選購去\")])],1)]):_vm._e(),(_vm.arraylangth.length)?_c('div',{staticClass:\"col-md-9\"},[_vm._m(0),_c('div',{staticClass:\"h2 text-center py-3\"},[_vm._v(\"你的購物車\")]),_c('table',{staticClass:\"table\"},[_vm._m(1),_c('tbody',[_vm._l((_vm.getcartproduct.carts),function(item){return _c('tr',{key:item.title},[_c('td',[_c('img',{attrs:{\"src\":item.product.imageUrl,\"alt\":\"\",\"width\":\"100\",\"height\":\"80\"}})]),_c('td',[_vm._v(_vm._s(item.product.title))]),_c('td',{staticClass:\"text-left\"},[_vm._v(_vm._s(item.qty)+\"/\"+_vm._s(item.product.unit))]),_c('td',{staticClass:\"text-left\"},[_vm._v(_vm._s(item.size))]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.product.price)))]),_c('td',{staticClass:\"text-right\"},[_c('button',{staticClass:\"btn btn-outline-danger\",on:{\"click\":function($event){return _vm.removeItem(item.id)}}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])])}),_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"5\"}},[_vm._v(\"總計\")]),_c('td',[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.getcartproduct.total)))])]),_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"5\"}},[_vm._v(\"折扣後總計\")]),_c('td',[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.getcartproduct.final_total)))])])],2)]),_c('div',{staticClass:\"input-group mb-3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.coupon_code),expression:\"coupon_code\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"請輸入優惠碼\",\"aria-label\":\"Recipient's username\",\"aria-describedby\":\"button-addon2\"},domProps:{\"value\":(_vm.coupon_code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.coupon_code=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\",\"id\":\"button-addon2\"},on:{\"click\":_vm.addcouponCode}},[_vm._v(\"套用優惠碼\")])])]),_c('span',{staticClass:\"text-danger h4\"},[_vm._v(\"想要打到骨折，請輸入happy new year\")]),_c('div',{staticClass:\"h2 text-center py-3\"},[_vm._v(\"收件人資料\")]),_c('form',{attrs:{\"action\":\"\"}},[_c('div',{staticClass:\"row mb-2\"},[_c('div',{staticClass:\"col\"},[_c('label',{staticClass:\"mb-2\",attrs:{\"for\":\"username\"}},[_vm._v(\"收件人姓名\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.name),expression:\"form.user.name\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{'is-invalid':_vm.errors.has('name')},attrs:{\"type\":\"text\",\"name\":\"name\",\"id\":\"username\",\"placeholder\":\"請填寫收件人姓名\",\"required\":\"\"},domProps:{\"value\":(_vm.form.user.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"name\", $event.target.value)}}}),(_vm.errors.has('name'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"請輸入收件人姓名\")]):_vm._e()]),_c('div',{staticClass:\"col\"},[_c('label',{staticClass:\"mb-2\",attrs:{\"for\":\"usertel\"}},[_vm._v(\"收件人電話\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.tel),expression:\"form.user.tel\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{'is-invalid':_vm.errors.has('tel')},attrs:{\"type\":\"text\",\"name\":\"tel\",\"id\":\"usertel\",\"placeholder\":\"請填寫收件人電話\",\"required\":\"\"},domProps:{\"value\":(_vm.form.user.tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"tel\", $event.target.value)}}}),(_vm.errors.has('tel'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"請輸入收件人電話\")]):_vm._e()])]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"mb-2\",attrs:{\"for\":\"useraddress\"}},[_vm._v(\"收件人地址\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.address),expression:\"form.user.address\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{'is-invalid':_vm.errors.has('address')},attrs:{\"type\":\"text\",\"name\":\"address\",\"id\":\"useraddress\",\"placeholder\":\"請填寫收件人地址\",\"required\":\"\"},domProps:{\"value\":(_vm.form.user.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"address\", $event.target.value)}}}),(_vm.errors.has('address'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"請輸入收件人地址\")]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"mb-2\",attrs:{\"for\":\"useremail\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.email),expression:\"form.user.email\"},{name:\"validate\",rawName:\"v-validate\",value:('required|email'),expression:\"'required|email'\"}],staticClass:\"form-control\",class:{'is-invalid':_vm.errors.has('email')},attrs:{\"type\":\"email\",\"name\":\"email\",\"id\":\"useremail\",\"placeholder\":\"請填寫Email\",\"required\":\"\"},domProps:{\"value\":(_vm.form.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"email\", $event.target.value)}}}),(_vm.errors.has('email'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.errors.first('email')))]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"mb-2\",attrs:{\"for\":\"usermessage\"}},[_vm._v(\"留言\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.message),expression:\"form.message\"}],staticClass:\"form-control\",attrs:{\"id\":\"usermessage\",\"rows\":\"5\"},domProps:{\"value\":(_vm.form.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"message\", $event.target.value)}}})]),_c('div',{staticClass:\"text-right py-5\"},[_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"width\":\"200px\"},on:{\"click\":function($event){$event.preventDefault();return _vm.createOrder($event)}}},[_vm._v(\"填寫完成，付款去\")])])])]):_vm._e()])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"step d-flex align-items-center\"},[_c('div',{staticClass:\"col-md-4\"},[_c('div',{staticClass:\"box box1 text-center active\"},[_vm._v(\"填寫訂單資料\")])]),_c('div',{staticClass:\"col-md-4\"},[_c('div',{staticClass:\"box box2 text-center\"},[_vm._v(\"金流付款\")])]),_c('div',{staticClass:\"col-md-4\"},[_c('div',{staticClass:\"box box3 text-center\"},[_vm._v(\"完成\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"width\":\"100\"}}),_c('th',{attrs:{\"width\":\"\"}},[_vm._v(\"品名\")]),_c('th',{staticClass:\"text-left\",attrs:{\"width\":\"90\"}},[_vm._v(\"數量\")]),_c('th',{staticClass:\"text-left\",attrs:{\"width\":\"70\"}},[_vm._v(\"尺寸\")]),_c('th',{attrs:{\"width\":\"150\"}},[_vm._v(\"價格\")]),_c('th',{attrs:{\"width\":\"100\"}})])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <loading :active.sync=\"isLoading\"></loading>\r\n    <div class=\"container\">\r\n      <main class=\"carts\">\r\n        <div class=\"container\">\r\n          <div class=\"row d-flex justify-content-center\">\r\n            <div class=\"h2\" v-if=\"!arraylangth.length\" style=\"display:block;\">\r\n              <span class=\"h3\">購物車無任何商品</span>\r\n              <div class=\"h4 mt-2\">\r\n                <router-link to=\"/Detail\">立刻選購去</router-link>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"col-md-9\" v-if=\"arraylangth.length\">\r\n              <div class=\"step d-flex align-items-center\">\r\n                <div class=\"col-md-4\">\r\n                  <div class=\"box box1 text-center active\">填寫訂單資料</div>\r\n                </div>\r\n\r\n                <div class=\"col-md-4\">\r\n                  <div class=\"box box2 text-center\">金流付款</div>\r\n                </div>\r\n\r\n                <div class=\"col-md-4\">\r\n                  <div class=\"box box3 text-center\">完成</div>\r\n                </div>\r\n              </div>\r\n              <div class=\"h2 text-center py-3\">你的購物車</div>\r\n\r\n              <table class=\"table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th width=\"100\"></th>\r\n                    <th width>品名</th>\r\n                    <th width=\"90\" class=\"text-left\">數量</th>\r\n                    <th width=\"70\" class=\"text-left\">尺寸</th>\r\n                    <th width=\"150\">價格</th>\r\n                    <th width=\"100\"></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"item in getcartproduct.carts\" :key=\"item.title\">\r\n                    <td>\r\n                      <img :src=\"item.product.imageUrl\" alt width=\"100\" height=\"80\">\r\n                    </td>\r\n                    <td>{{item.product.title }}</td>\r\n                    <td class=\"text-left\">{{item.qty}}/{{item.product.unit}}</td>\r\n                    <td class=\"text-left\">{{item.size}}</td>\r\n                    <td class=\"text-right\">{{item.product.price |currency}}</td>\r\n                    <td class=\"text-right\">\r\n                      <button class=\"btn btn-outline-danger\" @click=\"removeItem(item.id)\">\r\n                        <i class=\"far fa-trash-alt\"></i>\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td colspan=\"5\" class=\"text-right\">總計</td>\r\n                    <td>{{getcartproduct.total |currency}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td colspan=\"5\" class=\"text-right\">折扣後總計</td>\r\n                    <td>{{getcartproduct.final_total |currency}}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <div class=\"input-group mb-3\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"請輸入優惠碼\"\r\n                  aria-label=\"Recipient's username\"\r\n                  aria-describedby=\"button-addon2\"\r\n                  v-model=\"coupon_code\"\r\n                >\r\n                <div class=\"input-group-append\">\r\n                  <button\r\n                    class=\"btn btn-outline-secondary\"\r\n                    type=\"button\"\r\n                    id=\"button-addon2\"\r\n                    @click=\"addcouponCode\"\r\n                  >套用優惠碼</button>\r\n                </div>\r\n              </div>\r\n              <span class=\"text-danger h4\">想要打到骨折，請輸入happy new year</span>\r\n\r\n              <div class=\"h2 text-center py-3\">收件人資料</div>\r\n              <form action>\r\n                <div class=\"row mb-2\">\r\n                  <div class=\"col\">\r\n                    <label for=\"username\" class=\"mb-2\">收件人姓名</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"name\"\r\n                      class=\"form-control\"\r\n                      id=\"username\"\r\n                      placeholder=\"請填寫收件人姓名\"\r\n                      v-model=\"form.user.name\"\r\n                      v-validate=\"'required'\"\r\n                      required\r\n                      :class=\"{'is-invalid':errors.has('name')}\"\r\n                    >\r\n                    <span class=\"text-danger\" v-if=\"errors.has('name')\">請輸入收件人姓名</span>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <label for=\"usertel\" class=\"mb-2\">收件人電話</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"tel\"\r\n                      class=\"form-control\"\r\n                      id=\"usertel\"\r\n                      placeholder=\"請填寫收件人電話\"\r\n                      v-model=\"form.user.tel\"\r\n                      v-validate=\"'required'\"\r\n                      required\r\n                      :class=\"{'is-invalid':errors.has('tel')}\"\r\n                    >\r\n                    <span class=\"text-danger\" v-if=\"errors.has('tel')\">請輸入收件人電話</span>\r\n                  </div>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                  <label for=\"useraddress\" class=\"mb-2\">收件人地址</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"address\"\r\n                    class=\"form-control\"\r\n                    id=\"useraddress\"\r\n                    placeholder=\"請填寫收件人地址\"\r\n                    v-model=\"form.user.address\"\r\n                    v-validate=\"'required'\"\r\n                    required\r\n                    :class=\"{'is-invalid':errors.has('address')}\"\r\n                  >\r\n                  <span class=\"text-danger\" v-if=\"errors.has('address')\">請輸入收件人地址</span>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                  <label for=\"useremail\" class=\"mb-2\">Email</label>\r\n                  <input\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    class=\"form-control\"\r\n                    id=\"useremail\"\r\n                    placeholder=\"請填寫Email\"\r\n                    v-model=\"form.user.email\"\r\n                    v-validate=\"'required|email'\"\r\n                    required\r\n                    :class=\"{'is-invalid':errors.has('email')}\"\r\n                  >\r\n                  <span class=\"text-danger\" v-if=\"errors.has('email')\">{{errors.first('email')}}</span>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                  <label for=\"usermessage\" class=\"mb-2\">留言</label>\r\n                  <textarea class=\"form-control\" id=\"usermessage\" rows=\"5\" v-model=\"form.message\"></textarea>\r\n                </div>\r\n\r\n                <div class=\"text-right py-5\">\r\n                  <button\r\n                    class=\"btn btn-primary\"\r\n                    style=\"width:200px;\"\r\n                    @click.prevent=\"createOrder\"\r\n                  >填寫完成，付款去</button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport \"jquery\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      isLoading: false,\r\n      coupon_code: \"\",\r\n      cartproduct: {},\r\n      getcartproduct: {},\r\n      arraylangth: [],\r\n      order: {},\r\n      form: {\r\n        user: {\r\n          name: \"\",\r\n          email: \"\",\r\n          tel: \"\",\r\n          address: \"\"\r\n        },\r\n        products: {},\r\n        message: []\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    getcart() {\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${\r\n        process.env.VUE_APP_COUSTOMPATH\r\n      }/cart`;\r\n      const vm = this;\r\n      vm.isLoading = true;\r\n      this.$http.get(api).then(response => {\r\n        vm.isLoading = false;\r\n        if (response.data.success) {\r\n          vm.getcartproduct = response.data.data;\r\n          vm.arraylangth = response.data.data.carts;\r\n          console.log(\"length\", vm.arraylangth);\r\n          console.log(vm.getcartproduct);\r\n        }\r\n      });\r\n    },\r\n\r\n    removeItem(id) {\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${\r\n        process.env.VUE_APP_COUSTOMPATH\r\n      }/cart/${id}`;\r\n      const vm = this;\r\n      vm.isLoading = true;\r\n      this.$http.delete(api).then(response => {\r\n        console.log(response);\r\n        vm.$bus.$emit(\"updatecart\");\r\n        vm.getcart();\r\n        vm.isLoading = false;\r\n      });\r\n    },\r\n    addcouponCode() {\r\n      const vm = this;\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${\r\n        process.env.VUE_APP_COUSTOMPATH\r\n      }/coupon`;\r\n      const coupon = {\r\n        code: vm.coupon_code\r\n      };\r\n      vm.isLoading = true;\r\n      this.$http.post(api, { data: coupon }).then(response => {\r\n        console.log(response);\r\n        vm.getcart();\r\n        vm.isLoading = false;\r\n      });\r\n    },\r\n    createOrder() {\r\n      const vm = this;\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${\r\n        process.env.VUE_APP_COUSTOMPATH\r\n      }/order`;\r\n      const order = vm.form;\r\n      //vm.isLoading = true;\r\n      this.$validator.validate().then(valid => {\r\n        if (valid) {\r\n          this.$http.post(api, { data: order }).then(response => {\r\n            console.log(\"訂單已建立\", response);\r\n            if (response.data.success) {\r\n              vm.$router.push(`/setordercheck/${response.data.orderId}`);\r\n            }\r\n            vm.isLoading = false;\r\n          });\r\n        } else {\r\n          console.log(\"欄位不完整\");\r\n        }\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    this.getcart();\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./checkorder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./checkorder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./checkorder.vue?vue&type=template&id=0a42c398&\"\nimport script from \"./checkorder.vue?vue&type=script&lang=js&\"\nexport * from \"./checkorder.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}