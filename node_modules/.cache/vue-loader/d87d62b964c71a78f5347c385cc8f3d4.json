{"remainingRequest":"C:\\Users\\User\\Desktop\\vue-cli-ui\\Hpaay shopping\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\vue-cli-ui\\Hpaay shopping\\src\\views\\allorder.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\vue-cli-ui\\Hpaay shopping\\src\\views\\allorder.vue","mtime":1560848511228},{"path":"C:\\Users\\User\\Desktop\\vue-cli-ui\\Hpaay shopping\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\vue-cli-ui\\Hpaay shopping\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\vue-cli-ui\\Hpaay shopping\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\vue-cli-ui\\Hpaay shopping\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport $ from \"jquery\";\r\nimport Pagination from \"./Pagination\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      orders: [],\r\n      pagination: {},\r\n      isLoading: false,\r\n      editorder: {\r\n        products: [\r\n          {\r\n            porduct: {}\r\n          }\r\n        ],\r\n        total: Number,\r\n        user: {}\r\n      },\r\n      isNew: false\r\n    };\r\n  },\r\n\r\n  components: {\r\n    Pagination\r\n  },\r\n  methods: {\r\n    getorders(page = 1) {\r\n      //ES6用法 如果有傳參數近來 使用傳進來的參數 如果沒有 使用預設值1\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${\r\n        process.env.VUE_APP_COUSTOMPATH\r\n      }/admin/orders?page=${page}`;\r\n      const vm = this;\r\n      vm.isLoading = true;\r\n      console.log(api);\r\n      this.$http.get(api).then(response => {\r\n        vm.pagination = response.data.pagination;\r\n        vm.orders = response.data.orders;\r\n\r\n        console.log(\"pagination\", vm.pagination);\r\n        console.log(\"orders\", vm.orders);\r\n        vm.isLoading = false;\r\n      });\r\n    },\r\n    updateorder() {\r\n      //ES6用法 如果有傳參數近來 使用傳進來的參數 如果沒有 使用預設值1\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${\r\n        process.env.VUE_APP_COUSTOMPATH\r\n      }/admin/order/${id}`;\r\n      const vm = this;\r\n      vm.isLoading = true;\r\n      const data = {\r\n        create_at: 1560500735,\r\n        id: \"-LhK4stH76fLbGtZLws-\",\r\n        is_paid: false,\r\n        message: \"121324\",\r\n        num: 6,\r\n        products: Object,\r\n        total: 2490,\r\n        user: Object,\r\n        isLoading: false\r\n      };\r\n      console.log(api);\r\n      this.$http.get(api).then(response => {\r\n        vm.pagination = response.data.pagination;\r\n        vm.orders = response.data.orders;\r\n\r\n        console.log(\"pagination\", vm.pagination);\r\n        console.log(\"orders\", vm.orders);\r\n        vm.isLoading = false;\r\n      });\r\n    },\r\n    openmodal(isNew, item) {\r\n      if (!isNew) {\r\n        $(\"#editmodal\").modal(\"show\");\r\n        this.editorder = Object.assign({}, item);\r\n      }\r\n    }\r\n  },\r\n\r\n  created() {\r\n    this.getorders();\r\n  }\r\n};\r\n",{"version":3,"sources":["allorder.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"allorder.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <loading :active.sync=\"isLoading\"></loading>\r\n    <div class=\"py-4\"></div>\r\n    <table class=\"table table-hover\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\" width=\"200\">購買時間</th>\r\n          <th scope=\"col\" width=\"250\">Email</th>\r\n          <th scope=\"col\" width>購買物品</th>\r\n          <th scope=\"col\" width=\"200\">訊息</th>\r\n          <th scope=\"col\" width=\"140\">應付金額</th>\r\n          <th scope=\"col\" width=\"80\">是否付款</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"item in orders\" :key=\"item.id\">\r\n          <td>{{item.create_at |time}}</td>\r\n          <td>{{item.user.email}}</td>\r\n          <td>\r\n            <p\r\n              v-for=\"product in item.products\"\r\n              :key=\"product.id\"\r\n            >{{product.product.title}} 數量: {{product.qty}} {{product.product.unit}}</p>\r\n          </td>\r\n          <td>{{item.message}}</td>\r\n          <td class=\"text-right\">{{item.total |currency}}</td>\r\n          <td v-if=\"item.is_paid\" class=\"text-success\">已付款</td>\r\n          <td v-if=\"!item.is_paid\" class=\"text-danger\">未付款</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <Pagination :pages=\"pagination\" @returnPageData=\"getorders\"></Pagination>\r\n\r\n    <!-- modal -->\r\n    <div class=\"modal\" tabindex=\"-1\" role=\"dialog\" id=\"editmodal\">\r\n      <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\">Modal title</h5>\r\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"form-group\">\r\n              <label for=\"editEmail\">修改的Email</label>\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control mt-2\"\r\n                id=\"editEmail\"\r\n                placeholder=\"修改的Email\"\r\n                v-model=\"editorder.user.email\"\r\n              >\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"editporduct\">購買的物品</label>\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control mt-2\"\r\n                id=\"editporduct\"\r\n                placeholder=\"購買的物品\"\r\n                v-model=\"editorder.products.porduct\"\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">關閉</button>\r\n            <button type=\"button\" class=\"btn btn-primary\">修改</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport $ from \"jquery\";\r\nimport Pagination from \"./Pagination\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      orders: [],\r\n      pagination: {},\r\n      isLoading: false,\r\n      editorder: {\r\n        products: [\r\n          {\r\n            porduct: {}\r\n          }\r\n        ],\r\n        total: Number,\r\n        user: {}\r\n      },\r\n      isNew: false\r\n    };\r\n  },\r\n\r\n  components: {\r\n    Pagination\r\n  },\r\n  methods: {\r\n    getorders(page = 1) {\r\n      //ES6用法 如果有傳參數近來 使用傳進來的參數 如果沒有 使用預設值1\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${\r\n        process.env.VUE_APP_COUSTOMPATH\r\n      }/admin/orders?page=${page}`;\r\n      const vm = this;\r\n      vm.isLoading = true;\r\n      console.log(api);\r\n      this.$http.get(api).then(response => {\r\n        vm.pagination = response.data.pagination;\r\n        vm.orders = response.data.orders;\r\n\r\n        console.log(\"pagination\", vm.pagination);\r\n        console.log(\"orders\", vm.orders);\r\n        vm.isLoading = false;\r\n      });\r\n    },\r\n    updateorder() {\r\n      //ES6用法 如果有傳參數近來 使用傳進來的參數 如果沒有 使用預設值1\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${\r\n        process.env.VUE_APP_COUSTOMPATH\r\n      }/admin/order/${id}`;\r\n      const vm = this;\r\n      vm.isLoading = true;\r\n      const data = {\r\n        create_at: 1560500735,\r\n        id: \"-LhK4stH76fLbGtZLws-\",\r\n        is_paid: false,\r\n        message: \"121324\",\r\n        num: 6,\r\n        products: Object,\r\n        total: 2490,\r\n        user: Object,\r\n        isLoading: false\r\n      };\r\n      console.log(api);\r\n      this.$http.get(api).then(response => {\r\n        vm.pagination = response.data.pagination;\r\n        vm.orders = response.data.orders;\r\n\r\n        console.log(\"pagination\", vm.pagination);\r\n        console.log(\"orders\", vm.orders);\r\n        vm.isLoading = false;\r\n      });\r\n    },\r\n    openmodal(isNew, item) {\r\n      if (!isNew) {\r\n        $(\"#editmodal\").modal(\"show\");\r\n        this.editorder = Object.assign({}, item);\r\n      }\r\n    }\r\n  },\r\n\r\n  created() {\r\n    this.getorders();\r\n  }\r\n};\r\n</script>\r\n"]}]}