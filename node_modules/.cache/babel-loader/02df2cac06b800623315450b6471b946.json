{"remainingRequest":"C:\\Users\\User\\Desktop\\Happy road\\Happy-road\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\Happy road\\Happy-road\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Desktop\\Happy road\\Happy-road\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Happy road\\Happy-road\\src\\views\\orders.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Happy road\\Happy-road\\src\\views\\orders.vue","mtime":1561022048868},{"path":"C:\\Users\\User\\Desktop\\Happy road\\Happy-road\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Happy road\\Happy-road\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Happy road\\Happy-road\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Happy road\\Happy-road\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport $ from \"jquery\";\nimport Pagination from \"./Pagination\";\nexport default {\n  data: function data() {\n    return {\n      isLoading: false,\n      pagination: {},\n      orders: {}\n    };\n  },\n  components: {\n    Pagination: Pagination\n  },\n  methods: {\n    getorders: function getorders() {\n      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      //ES6用法 如果有傳參數近來 使用傳進來的參數 如果沒有 使用預設值1\n      var api = \"\".concat(process.env.VUE_APP_APIPATH, \"/api/\").concat(process.env.VUE_APP_COUSTOMPATH, \"/orders?page=\").concat(page);\n      var vm = this;\n      vm.isLoading = true;\n      console.log(api);\n      this.$http.get(api).then(function (response) {\n        vm.orders = response.data.orders;\n        console.log(vm.orders);\n        vm.pagination = response.data.pagination;\n        vm.isLoading = false;\n      });\n    },\n    gopay: function gopay(item) {\n      var vm = this;\n      vm.$router.push(\"/setordercheck/\".concat(item.id));\n    }\n  },\n  created: function created() {\n    this.getorders();\n  }\n};",{"version":3,"sources":["orders.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA,OAAA,CAAA,MAAA,QAAA;AACA,OAAA,UAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,KADA;AAEA,MAAA,UAAA,EAAA,EAFA;AAGA,MAAA,MAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA;AADA,GARA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AAAA,UAAA,IAAA,uEAAA,CAAA;AACA;AACA,UAAA,GAAA,aAAA,OAAA,CAAA,GAAA,CAAA,eAAA,kBACA,OAAA,CAAA,GAAA,CAAA,mBADA,0BAEA,IAFA,CAAA;AAGA,UAAA,EAAA,GAAA,IAAA;AACA,MAAA,EAAA,CAAA,SAAA,GAAA,IAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,EAAA,CAAA,MAAA,GAAA,QAAA,CAAA,IAAA,CAAA,MAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,EAAA,CAAA,MAAA;AACA,QAAA,EAAA,CAAA,UAAA,GAAA,QAAA,CAAA,IAAA,CAAA,UAAA;AACA,QAAA,EAAA,CAAA,SAAA,GAAA,KAAA;AACA,OALA;AAMA,KAfA;AAgBA,IAAA,KAhBA,iBAgBA,IAhBA,EAgBA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,MAAA,EAAA,CAAA,OAAA,CAAA,IAAA,0BAAA,IAAA,CAAA,EAAA;AACA;AAnBA,GAXA;AAgCA,EAAA,OAhCA,qBAgCA;AACA,SAAA,SAAA;AACA;AAlCA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <loading :active.sync=\"isLoading\"></loading>\r\n    <div class=\"container mb-3\">\r\n      <table class=\"table table-hover\">\r\n        <thead>\r\n          <tr>\r\n            <th width=\"120\">購買時間</th>\r\n            <th width=\"250\">購買人資訊</th>\r\n            <th width=\"200\">購買物品</th>\r\n            <th width=\"100\">備註</th>\r\n            <th width=\"80\">金額</th>\r\n            <th width=\"100\">是否付款</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"item in orders\" :key=\"item.id\">\r\n            <td>{{item.create_at |time}}</td>\r\n            <td>\r\n                <ul>\r\n                    <li>訂單編號:{{item.id}}</li>\r\n                    <li>姓名:{{item.user.name}}</li>\r\n                    <li>住址:{{item.user.address}}</li>\r\n                    <li>Email:{{item.user.email}}</li>\r\n                    <li>電話:{{item.user.tel}}</li>\r\n                </ul>\r\n            </td>\r\n            <td>\r\n              <p\r\n                v-for=\"product in item.products\"\r\n                :key=\"product.id\"\r\n              >{{product.product.title}} {{product.qty}}/{{product.product.unit}}</p>\r\n            </td>\r\n            <td>{{item.message}}</td>\r\n            <td class=\"text-right\">{{item.total |currency}}</td>\r\n            <td class=\"text-success\" v-if=\"item.is_paid\">\r\n              <div class=\"mb-2\">已付款</div>\r\n              <div>{{item.paid_date |time}}</div>\r\n            </td>\r\n            <td class=\"text-danger\" v-if=\"!item.is_paid\">\r\n              <span class=\"mr-2\">未付款</span>\r\n              <button class=\"btn btn-outline-primary btn-sm\" @click=\"gopay(item)\">付款去</button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <Pagination :pages=\"pagination\" @returnPageData=\"getorders\"></Pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport $ from \"jquery\";\r\nimport Pagination from \"./Pagination\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      isLoading:false,\r\n      pagination: {},\r\n      orders: {}\r\n    };\r\n  },\r\n  components: {\r\n    Pagination\r\n  },\r\n  methods: {\r\n    getorders(page = 1) {\r\n      //ES6用法 如果有傳參數近來 使用傳進來的參數 如果沒有 使用預設值1\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${\r\n        process.env.VUE_APP_COUSTOMPATH\r\n      }/orders?page=${page}`;\r\n      const vm = this;\r\n      vm.isLoading = true;\r\n      console.log(api);\r\n      this.$http.get(api).then(response => {\r\n        vm.orders = response.data.orders;\r\n        console.log(vm.orders);\r\n        vm.pagination = response.data.pagination;\r\n        vm.isLoading = false;\r\n      });\r\n    },\r\n    gopay(item){\r\n    const vm =this;\r\n    vm.$router.push(`/setordercheck/${item.id}`)\r\n    },\r\n  },\r\n  created() {\r\n    this.getorders();\r\n  }\r\n};\r\n</script>\r\n"],"sourceRoot":"src/views"}]}