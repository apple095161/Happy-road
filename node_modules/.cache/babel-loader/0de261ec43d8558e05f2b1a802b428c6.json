{"remainingRequest":"C:\\Users\\User\\Desktop\\vue-cli-ui\\cli3\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\vue-cli-ui\\cli3\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Desktop\\vue-cli-ui\\cli3\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\vue-cli-ui\\cli3\\node_modules\\vue-fancybox\\src\\fancyBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\vue-cli-ui\\cli3\\node_modules\\vue-fancybox\\src\\fancyBox.vue","mtime":1505049873000},{"path":"C:\\Users\\User\\Desktop\\vue-cli-ui\\cli3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\vue-cli-ui\\cli3\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\vue-cli-ui\\cli3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\vue-cli-ui\\cli3\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Vue from 'vue';\nimport VueTouch from 'vue-touch';\nVue.use(VueTouch);\nexport default {\n  name: 'fancy-box',\n  data: function data() {\n    return {\n      activeStyle: {},\n      activeUrl: '',\n      activeImageStyle: {},\n      prev: [],\n      next: [],\n      thumbnails: [],\n      tap: null,\n      pan: null,\n      isZoom: false\n    };\n  },\n  props: {\n    imageItems: {\n      type: Array\n    },\n    visible: {\n      type: Boolean\n    }\n  },\n  methods: {\n    onTapImage: function onTapImage() {\n      var e = arguments.length <= 0 ? undefined : arguments[0],\n          image = e.target,\n          el = image.parentNode;\n      var boundingClientRect = el.getBoundingClientRect();\n      this.imageIndex = Number(el.dataset.index) || 0;\n      this.createImage(image.src, boundingClientRect, image);\n    },\n    initDom: function initDom() {\n      var _this = this;\n\n      var prev = this.imageItems.slice(0, this.imageIndex);\n      var next = this.imageItems.slice(this.imageIndex + 1, this.imageItems.length);\n      prev.forEach(function (n, i) {\n        n.y = _this.getCenter(i).y;\n        n.w = _this.getCenter(i).w;\n      });\n      next.forEach(function (n, i) {\n        n.y = _this.getCenter(_this.imageIndex + 1 + i).y;\n        n.w = _this.getCenter(_this.imageIndex + 1 + i).w;\n      });\n      this.prev = prev;\n      this.next = next;\n      this.listEl = this.$refs.fancyBoxWrapper.children;\n      this.initEvent();\n    },\n    initEvent: function initEvent() {\n      var _this2 = this;\n\n      this.tap = new Hammer.Manager(this.$refs.fancyBoxWrapper);\n      this.pan = new Hammer(this.$refs.fancyBoxWrapper);\n      this.tap.add(new Hammer.Tap({\n        event: 'doubletap',\n        taps: 2\n      }));\n      this.tap.add(new Hammer.Tap({\n        event: 'singletap'\n      }));\n      this.tap.get('doubletap').recognizeWith('singletap');\n      this.tap.get('singletap').requireFailure('doubletap');\n      this.tap.on('singletap', function (e) {\n        if (_this2.isZoom) return;\n\n        _this2.onSingleTap(e);\n      });\n      this.tap.on('doubletap', function (e) {\n        _this2.onDoubleTap(e);\n      });\n      this.pan.on('panstart', function (e) {\n        if (_this2.isZoom) {// this.onImageStart(e);\n        } else {\n          _this2.onPanStart(e);\n        }\n      });\n      this.pan.on('panmove', function (e) {\n        if (_this2.isZoom) {// this.onImageMove(e);\n        } else {\n          _this2.onPanMove(e);\n        }\n      });\n      this.pan.on('panend', function (e) {\n        if (_this2.isZoom) {// this.onImageEnd(e);\n        } else {\n          _this2.onPanEnd(e);\n        }\n      });\n    },\n    onImageStart: function onImageStart() {\n      var e = arguments.length <= 0 ? undefined : arguments[0];\n      this.startX = e.pointers[0].pageX - (this.offsetX || 0);\n      this.startY = e.pointers[0].pageY - (this.offsetY || this.getCenter().y);\n    },\n    onImageMove: function onImageMove() {\n      var e = arguments.length <= 0 ? undefined : arguments[0];\n      var scale = this.getCenter().scale;\n      var y = this.getCenter().y;\n      this.offsetX = e.pointers[0].pageX - this.startX;\n      this.offsetY = e.pointers[0].pageY - this.startY;\n\n      if (this.offsetX > this.maxTx) {\n        this.offsetX = this.maxTx;\n      } else if (this.offsetX < this.minTx) {\n        this.offsetX = this.minTx;\n      }\n\n      if (this.offsetY > this.maxTy) {\n        this.offsetY = this.maxTy;\n      } else if (this.offsetY < this.minTy) {\n        this.offsetY = this.minTy;\n      }\n\n      this.activeImageEl.style.webkitTransition = '0s';\n      this.activeImageEl.style.webkitTransform = \"translate3d(\".concat(this.offsetX, \"px, \").concat(this.offsetY, \"px, 0px) scale3d(\").concat(scale, \", \").concat(scale, \", 1)\");\n    },\n    onImageEnd: function onImageEnd() {\n      var e = arguments.length <= 0 ? undefined : arguments[0];\n      this.activeImageEl.style.webkitTransition = '';\n    },\n    onDoubleTap: function onDoubleTap() {\n      var _this3 = this;\n\n      var e = arguments.length <= 0 ? undefined : arguments[0];\n\n      if (this.imageItems[this.imageIndex].width < window.innerWidth) {\n        return;\n      }\n\n      var center = e.center,\n          x = center.x - this.getCenter().x,\n          y = center.y - this.getCenter().y;\n      this.activeImageEl = this.listEl[this.imageIndex].firstElementChild;\n      this.maxTx = this.getCenter().maxTx(x, y);\n      this.minTx = this.getCenter().minTx(x, y);\n      this.maxTy = this.getCenter().maxTy(x, y);\n      this.minTy = this.getCenter().minTy(x, y);\n\n      if (this.isZoom) {\n        this.activeImageEl.style.webkitTransform = \"translate3d(\".concat(this.getCenter().x, \"px, \").concat(this.getCenter().y, \"px, 0px)\");\n        setTimeout(function () {\n          _this3.activeImageEl.style.webkitTransformOrigin = \"left top 0px\";\n        }, 500);\n        this.isZoom = false;\n      } else {\n        this.activeImageEl.style.webkitTransform = \"translate3d(\".concat(this.getCenter().x, \"px, \").concat(this.getCenter().y, \"px, 0px) scale3d(\").concat(this.getCenter().scale, \", \").concat(this.getCenter().scale, \", 1)\");\n        this.activeImageEl.style.webkitTransformOrigin = \"\".concat(x, \"px \").concat(y, \"px 0px\");\n        this.isZoom = true;\n      }\n    },\n    onSingleTap: function onSingleTap() {\n      var e = arguments.length <= 0 ? undefined : arguments[0];\n      this.destroy(this.imageIndex);\n    },\n    onPanStart: function onPanStart() {\n      var e = arguments.length <= 0 ? undefined : arguments[0];\n      this.startTime = e.timeStamp;\n      this.startX = e.pointers[0].pageX;\n      this.offsetX = 0;\n    },\n    onPanMove: function onPanMove() {\n      var e = arguments.length <= 0 ? undefined : arguments[0];\n      var i = this.imageIndex - 1;\n      var end = i + 3;\n      this.offsetX = e.pointers[0].pageX - this.startX;\n\n      for (; i < end; i++) {\n        var index = i - this.imageIndex;\n        var el = this.listEl[i];\n        el && (el.style.webkitTransition = '0s ease-out');\n        el && (el.style.webkitTransform = \"translate3d(\".concat(index * this.scaleWidth + this.offsetX, \"px, 0px, 0)\"));\n        el && (el.firstElementChild.style.webkitTransform = \"translate3d( \".concat(this.getCenter(i).x, \"px, \").concat(this.getCenter(i).y, \"px, 0)\"));\n      }\n\n      ;\n    },\n    onPanEnd: function onPanEnd() {\n      var e = arguments.length <= 0 ? undefined : arguments[0];\n      var boundary = this.scaleWidth / 6;\n      var endTime = e.timeStamp;\n      var offsetX = this.offsetX;\n\n      if (endTime - this.startTime > 300) {\n        if (offsetX >= boundary) {\n          this.goPage('-1');\n        } else if (offsetX < 0 && offsetX < -boundary) {\n          this.goPage('+1');\n        } else {\n          this.goPage('0');\n        }\n\n        ;\n      } else {\n        if (offsetX > 50) {\n          this.goPage('-1');\n        } else if (offsetX < -50) {\n          this.goPage('+1');\n        } else {\n          this.goPage('0');\n        }\n\n        ;\n      }\n    },\n    goPage: function goPage(n) {\n      var length = this.imageItems.length;\n      var cid = 0;\n      var lis = this.listEl;\n\n      if (typeof n == 'number') {\n        cid = this.imageIndex;\n      } else if (typeof n == 'string') {\n        cid = this.imageIndex + n * 1;\n      }\n\n      ;\n\n      if (cid > length - 1) {\n        cid = length - 1;\n      } else if (cid < 0) {\n        cid = 0;\n      }\n\n      ;\n      this.imageIndex = cid;\n      lis[cid].style.webkitTransition = '0.2s ease-out';\n      lis[cid - 1] && (lis[cid - 1].style.webkitTransition = '0.2s ease-out');\n      lis[cid + 1] && (lis[cid + 1].style.webkitTransition = '0.2s ease-out');\n      lis[cid].style.webkitTransform = \"translate3d(0, 0, 0)\";\n      lis[cid].firstElementChild.style.webkitTransform = \"translate3d(\".concat(this.getCenter(cid).x, \", \").concat(this.getCenter(cid).y, \"px, 0)\");\n      lis[cid - 1] && (lis[cid - 1].style.webkitTransform = \"translate3d(-\".concat(this.scaleWidth, \"px, 0px, 0)\"));\n      lis[cid - 1] && (lis[cid - 1].firstElementChild.style.webkitTransform = \"translate3d(\".concat(this.getCenter(cid - 1).x, \"px, \").concat(this.getCenter(cid - 1).y, \"px, 0)\"));\n      lis[cid + 1] && (lis[cid + 1].style.webkitTransform = \"translate3d(\".concat(this.scaleWidth, \"px, 0px, 0)\"));\n      lis[cid + 1] && (lis[cid + 1].firstElementChild.style.webkitTransform = \"translate3d(\".concat(this.getCenter(cid + 1).x, \"px, \").concat(this.getCenter(cid + 1).y, \"px, 0)\"));\n    },\n    destroy: function destroy(n) {\n      var _this4 = this;\n\n      if (!this.listEl) return;\n      var image = this.listEl[n].firstElementChild;\n      var original = this.thumbnails[n];\n      var location = original.getBoundingClientRect();\n      var zoom = this.getZoomTransform(original.firstElementChild);\n      this.tap.off('singletap');\n      this.tap.off('doubletap');\n      this.pan.off('panstart');\n      this.pan.off('panmove');\n      this.pan.off('panend');\n      image.style.webkitTransform = \"translate3d(\".concat(location.left, \"px, \").concat(location.top, \"px, 0px) scale(\").concat(zoom, \")\");\n      setTimeout(function () {\n        _this4.visible = false;\n        setTimeout(function () {\n          _this4.$refs.fancyBoxWrapper && document.body.removeChild(_this4.$refs.fancyBoxWrapper.parentNode);\n\n          _this4.$destroy();\n        }, 200);\n      }, 300);\n    },\n    getElWidth: function getElWidth(el) {\n      return el.getBoundingClientRect().width;\n    },\n    getZoomTransform: function getZoomTransform(el) {\n      return this.getElWidth(el) / this.imageItems[this.imageIndex].width / this.imageItems[this.imageIndex].fitRatio;\n    },\n    getCenter: function getCenter(index) {\n      var imageObj = typeof index == 'undefined' ? this.imageItems[this.imageIndex] : this.imageItems[index];\n      return {\n        x: Math.round((window.innerWidth - imageObj.width * imageObj.fitRatio) / 2),\n        y: Math.round((window.innerHeight - imageObj.height * imageObj.fitRatio) / 2),\n        w: Math.round(imageObj.width * imageObj.fitRatio),\n        scale: imageObj.width / window.innerWidth,\n        widthFix: imageObj.width - window.innerWidth,\n        maxTx: function maxTx(x, y) {\n          return this.widthFix * (x / window.innerWidth);\n        },\n        minTx: function minTx(x, y) {\n          return 0 - this.widthFix * ((window.innerWidth - x) / window.innerWidth);\n        },\n        maxTy: function maxTy(x, y) {\n          var height = window.innerHeight - this.y * 2;\n          var heightFix = imageObj.height - height;\n          return heightFix * (y / height);\n        },\n        minTy: function minTy(x, y) {\n          var height = window.innerHeight - this.y * 2;\n          var imgAreaY = (window.innerHeight - height) / 2;\n          var heightFix = imageObj.height - height;\n          y = y + this.y - imgAreaY;\n          return 0 - (heightFix * ((height - y) / height) - (height + this.y));\n        }\n      };\n    }\n  },\n  created: function created() {\n    this.scaleWidth = window.innerWidth;\n  },\n  mounted: function mounted() {}\n};",{"version":3,"sources":["fancyBox.vue"],"names":[],"mappings":"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","sourcesContent":["<style>\n  .fancy-box-mask {\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background-color: #333;\n    z-index: 22;\n  }\n  .fancy-box-image-wrapper {\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 33;\n  }\n  .fancy-box-image-wrapper div {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    transform-origin: left top 0px;\n    transition: transform .3s cubic-bezier(0.4, 0, 0.22, 1);\n  }\n  .fancy-box-image-wrapper img {\n    max-width: 100%;\n    max-height: 100%;\n  }\n  .fancy-enter, .fancy-leave-active{\n    opacity: 0;\n  }\n  .fancy-enter-active, .fancy-leave-active{\n    transition: .2s;\n  }\n</style>\n\n<template>\n  <transition name=\"fancy\">\n    <div v-show=\"visible\" class=\"fancy-box-mask\">\n      <div ref=\"fancyBoxWrapper\" class=\"fancy-box-image-wrapper\">\n        <div v-for=\"(image, index) in prev\" :style=\"{ webkitTransform: 'translate3d(-'+ (index+1)*image.scaleWidth +'px, 0, 0)' }\">\n          <div :style=\"{ webkitTransform: 'translate3d(0, '+ image.y +'px, 0)' }\"><img :style=\"{ width: ''+ image.w +'px' }\" :src=\"image.url\"></div>\n        </div>\n        <div>\n          <div :style=\"activeStyle\"><img :style=\"activeImageStyle\" :src=\"activeUrl\"></div>\n        </div>\n        <div v-for=\"(image, index) in next\" :style=\"{ webkitTransform: 'translate3d('+ (index+1)*image.scaleWidth +'px, 0, 0)' }\">\n          <div :style=\"{ webkitTransform: 'translate3d(0, '+ image.y +'px, 0)' }\"><img :style=\"{ width: ''+ image.w +'px' }\" :src=\"image.url\"></div>\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\n\n  import Vue from 'vue';\n\n  import VueTouch from 'vue-touch';\n\n  Vue.use(VueTouch);\n\n  export default {\n    name: 'fancy-box',\n    data () {\n      return {\n        activeStyle: {},\n        activeUrl: '',\n        activeImageStyle: {},\n        prev: [],\n        next: [],\n        thumbnails: [],\n        tap: null,\n        pan: null,\n        isZoom: false\n      }\n    },\n    props: {\n      imageItems: {\n        type: Array\n      },\n      visible: {\n        type: Boolean\n      }\n    },\n    methods : {\n      onTapImage(...initialArgs) {\n        \n        let e = initialArgs[0], image = e.target, el = image.parentNode;\n\n        let boundingClientRect = el.getBoundingClientRect();\n\n        this.imageIndex = Number(el.dataset.index) || 0;\n\n        this.createImage(image.src, boundingClientRect, image);\n      },\n      initDom () {\n\n        let prev = this.imageItems.slice(0, this.imageIndex);\n        let next = this.imageItems.slice(this.imageIndex + 1, this.imageItems.length);\n\n        prev.forEach((n, i) => {\n          n.y = this.getCenter(i).y;\n          n.w = this.getCenter(i).w;\n        });\n\n        next.forEach((n, i) => {\n          n.y = this.getCenter((this.imageIndex+1) + i).y;\n          n.w = this.getCenter((this.imageIndex+1) + i).w;\n        });\n\n        this.prev = prev;\n        this.next = next;\n\n        this.listEl = this.$refs.fancyBoxWrapper.children;\n\n        this.initEvent();\n      },\n      initEvent () {\n\n        this.tap = new Hammer.Manager(this.$refs.fancyBoxWrapper);\n        this.pan = new Hammer(this.$refs.fancyBoxWrapper);\n\n        this.tap.add( new Hammer.Tap({ event: 'doubletap', taps: 2 }) );\n        this.tap.add( new Hammer.Tap({ event: 'singletap' }) );\n\n        this.tap.get('doubletap').recognizeWith('singletap');\n        this.tap.get('singletap').requireFailure('doubletap');\n\n        this.tap.on('singletap', (e) => {\n          if (this.isZoom) return;\n          this.onSingleTap(e);\n        });\n        this.tap.on('doubletap', (e) => {\n          this.onDoubleTap(e);\n        });\n\n        this.pan.on('panstart', (e) => {\n          if (this.isZoom) {\n            // this.onImageStart(e);\n          } else {\n            this.onPanStart(e);\n          }\n        });\n        this.pan.on('panmove', (e) => {\n          if (this.isZoom) {\n            // this.onImageMove(e);\n          } else {\n            this.onPanMove(e);\n          }\n        });\n        this.pan.on('panend', (e) => {\n          if (this.isZoom) {\n            // this.onImageEnd(e);\n          } else {\n            this.onPanEnd(e);\n          }\n        });\n      },\n      onImageStart (...initialArgs) {\n        let e = initialArgs[0];\n        this.startX = e.pointers[0].pageX - (this.offsetX || 0);\n        this.startY = e.pointers[0].pageY - (this.offsetY || this.getCenter().y);\n      },\n      onImageMove (...initialArgs) {\n        let e = initialArgs[0];\n        let scale = this.getCenter().scale;\n        let y = this.getCenter().y;\n\n        this.offsetX = e.pointers[0].pageX - this.startX;\n        this.offsetY = e.pointers[0].pageY - this.startY;\n        \n        if (this.offsetX > this.maxTx) {\n          this.offsetX = this.maxTx;\n        } else if (this.offsetX < this.minTx) {\n          this.offsetX = this.minTx;\n        }\n\n        if (this.offsetY > this.maxTy) {\n          this.offsetY = this.maxTy;\n        } else if (this.offsetY < this.minTy) {\n          this.offsetY = this.minTy;\n        }\n\n        this.activeImageEl.style.webkitTransition = '0s';\n        this.activeImageEl.style.webkitTransform = `translate3d(${this.offsetX}px, ${this.offsetY}px, 0px) scale3d(${scale}, ${scale}, 1)`;\n      },\n      onImageEnd (...initialArgs) {\n        let e = initialArgs[0];\n        this.activeImageEl.style.webkitTransition = '';\n      },\n      onDoubleTap (...initialArgs) {\n        let e = initialArgs[0];\n\n        if(this.imageItems[this.imageIndex].width < window.innerWidth) {\n          return;\n        }\n\n        let center = e.center,\n          x = center.x - this.getCenter().x,\n          y = center.y - this.getCenter().y;\n\n        this.activeImageEl = this.listEl[this.imageIndex].firstElementChild;\n\n        this.maxTx = this.getCenter().maxTx(x, y);\n        this.minTx = this.getCenter().minTx(x, y);\n        this.maxTy = this.getCenter().maxTy(x, y);\n        this.minTy = this.getCenter().minTy(x, y);\n\n        if (this.isZoom) {\n          this.activeImageEl.style.webkitTransform = `translate3d(${this.getCenter().x}px, ${this.getCenter().y}px, 0px)`;\n          setTimeout(() => {  \n            this.activeImageEl.style.webkitTransformOrigin = `left top 0px`;\n          }, 500);\n          this.isZoom = false;\n        } else {\n          this.activeImageEl.style.webkitTransform = `translate3d(${this.getCenter().x}px, ${this.getCenter().y}px, 0px) scale3d(${this.getCenter().scale}, ${this.getCenter().scale}, 1)`;\n          this.activeImageEl.style.webkitTransformOrigin = `${x}px ${y}px 0px`;\n          this.isZoom = true;\n        }\n      },\n      onSingleTap (...initialArgs) {\n        let e = initialArgs[0];\n        this.destroy(this.imageIndex);\n      },\n      onPanStart (...initialArgs) {\n        let e = initialArgs[0];\n        this.startTime = e.timeStamp;\n        this.startX = e.pointers[0].pageX;\n        this.offsetX = 0;\n      },\n      onPanMove (...initialArgs) {\n\n        let e = initialArgs[0];\n        let i = this.imageIndex - 1;\n        let end = i + 3;\n\n        this.offsetX = e.pointers[0].pageX - this.startX;\n\n        for(; i < end; i++) {\n\n          let index = i - this.imageIndex;\n          let el = this.listEl[i];\n\n          el && (el.style.webkitTransition = '0s ease-out');\n          el && (el.style.webkitTransform = `translate3d(${ index * this.scaleWidth + this.offsetX }px, 0px, 0)`);\n          el && (el.firstElementChild.style.webkitTransform = `translate3d( ${this.getCenter(i).x}px, ${this.getCenter(i).y}px, 0)`);\n        };\n      },\n      onPanEnd (...initialArgs) {\n        let e = initialArgs[0];\n        let boundary = this.scaleWidth / 6;\n        let endTime = e.timeStamp;\n        let offsetX = this.offsetX;\n\n        if(endTime - this.startTime > 300) {\n          if(offsetX >= boundary){\n            this.goPage('-1');\n          } else if(offsetX < 0 && offsetX < -boundary) {\n            this.goPage('+1');\n          } else {\n            this.goPage('0');\n          };\n        } else {\n          if(offsetX > 50){\n            this.goPage('-1');\n          } else if(offsetX < -50) {\n            this.goPage('+1');\n          } else {\n            this.goPage('0');\n          };\n        }\n      },\n      goPage (n) {\n        let length = this.imageItems.length;\n        let cid = 0;\n        let lis = this.listEl;\n\n        if (typeof n == 'number') {\n          cid = this.imageIndex;\n        } else if (typeof n == 'string') {\n          cid = this.imageIndex + n*1;\n        };\n\n        if (cid > length - 1) {\n          cid = length - 1;\n        } else if (cid < 0){\n          cid = 0;\n        };\n\n        this.imageIndex = cid;\n\n        lis[cid].style.webkitTransition = '0.2s ease-out';\n        lis[cid - 1] && (lis[cid - 1].style.webkitTransition = '0.2s ease-out');\n        lis[cid + 1] && (lis[cid + 1].style.webkitTransition = '0.2s ease-out');\n\n        lis[cid].style.webkitTransform = `translate3d(0, 0, 0)`;\n        lis[cid].firstElementChild.style.webkitTransform = `translate3d(${this.getCenter(cid).x}, ${this.getCenter(cid).y}px, 0)`;\n\n        lis[cid - 1] && (lis[cid - 1].style.webkitTransform = `translate3d(-${this.scaleWidth}px, 0px, 0)`);\n        lis[cid - 1] && (lis[cid - 1].firstElementChild.style.webkitTransform = `translate3d(${this.getCenter(cid - 1).x}px, ${this.getCenter(cid - 1).y}px, 0)`);\n\n        lis[cid + 1] && (lis[cid + 1].style.webkitTransform = `translate3d(${this.scaleWidth}px, 0px, 0)`);\n        lis[cid + 1] && (lis[cid + 1].firstElementChild.style.webkitTransform = `translate3d(${this.getCenter(cid + 1).x}px, ${this.getCenter(cid + 1).y}px, 0)`);\n      },\n      destroy (n) {\n\n        if (! this.listEl) return;\n\n        let image = this.listEl[n].firstElementChild;\n        let original = this.thumbnails[n];\n        let location = original.getBoundingClientRect();\n        let zoom = this.getZoomTransform(original.firstElementChild);\n\n        this.tap.off('singletap');\n        this.tap.off('doubletap');\n\n        this.pan.off('panstart');\n        this.pan.off('panmove');\n        this.pan.off('panend');\n\n        image.style.webkitTransform = `translate3d(${location.left}px, ${location.top}px, 0px) scale(${zoom})`;\n        \n        setTimeout(() => {\n\n          this.visible = false;\n\n          setTimeout(() => {\n            this.$refs.fancyBoxWrapper && (document.body.removeChild(this.$refs.fancyBoxWrapper.parentNode));\n            this.$destroy();\n          }, 200);\n        }, 300);\n      },\n      getElWidth (el) {\n        return el.getBoundingClientRect().width;\n      },\n      getZoomTransform (el) {\n        return (this.getElWidth(el) / this.imageItems[this.imageIndex].width) / this.imageItems[this.imageIndex].fitRatio;\n      },\n      getCenter (index) {\n        let imageObj = (typeof index == 'undefined') ? this.imageItems[this.imageIndex] : this.imageItems[index];\n        return {\n          x: Math.round((window.innerWidth - (imageObj.width * imageObj.fitRatio)) / 2),\n          y: Math.round((window.innerHeight - (imageObj.height * imageObj.fitRatio)) / 2),\n          w: Math.round(imageObj.width * imageObj.fitRatio),\n          scale: imageObj.width / window.innerWidth,\n          widthFix: imageObj.width - window.innerWidth,\n          maxTx (x, y) {\n            return this.widthFix * (x / window.innerWidth);\n          },\n          minTx (x, y) {\n            return 0 - this.widthFix * ((window.innerWidth - x) / window.innerWidth);\n          },\n          maxTy (x, y) {\n            let height = window.innerHeight - (this.y * 2);\n            let heightFix = imageObj.height - height;\n            return heightFix * (y / height);\n          },\n          minTy (x, y) {\n            let height = window.innerHeight - (this.y * 2);\n            let imgAreaY = (window.innerHeight - height) / 2;\n            let heightFix = imageObj.height - height;\n            y = (y + this.y) - imgAreaY;\n            return 0 - (heightFix * ((height - y) / height ) - (height + this.y));\n          }\n        }\n      }\n    },\n    created () {\n      this.scaleWidth = window.innerWidth;\n    },\n    mounted () {}\n  }\n</script>"],"sourceRoot":"node_modules/vue-fancybox/src"}]}